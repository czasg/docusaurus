---
title: 后端技术框架探索与实践
authors: [czasg]
tags: [后端, 分享]
---

在现代 Web 开发中，技术框架扮演着至关重要的角色。因此，学习框架在开发过程中的作用，了解框架的演进，是每位后端开发者都应该具备的重要知识。

通过本文，您可以学习并了解以下内容：
- 后端技术框架的重要性和作用
- 当前后端技术框架的发展趋势
- 常见后端技术框架
- 技术框架选择与评估
- 架构设计与技术框架结合
- 技术框架实践与落地

<!--truncate-->


### 后端技术框架的重要性和作用
后端技术框架提供了一个结构化的框架，帮助开发人员构建高效、可靠和可扩展的后端应用程序。这些框架简化了开发过程，提高了效率，促进了代码的组织和可维护性。

在后端技术框架中，最常见的核心模块之一是对 HTTP 请求处理的封装。一次完整的 HTTP 请求过程包括：

- 接收请求
- 请求报文解析
- 业务处理
- 响应报文构建
- 发送响应

```text
请求报文示例：
GET / HTTP/1.1
Content-Type: text/html
Content-Length: 5

hello

响应报文示例：
HTTP/1.1 200 OK
Content-Type: text/html
Content-Length: 5

hello
```

除了对 HTTP 请求的支持之外，技术框架还可以提供对开发流程的规范约束和最佳实践。框架能够简化技术人员对底层细节的处理，并提供开发过程中所需的工具、库和组件，以加速应用程序的开发。

当前现代后端技术在以下方面发挥着重要作用：

- 加速开发
- 提高效率
- 抽象底层细节
- 标准化架构设计和模式

### 当前后端技术框架的发展趋势

目前后端技术框架呈现以下发展趋势：

- 单体架构
- 分布式架构
- 微服务架构
- 云原生架构
- 无服务器架构
- 跨平台/语言

其中，最常见的是单体架构，适用于大部分场景，也是最简单的一种架构场景。

然而，单体架构存在缺陷，一旦依赖资源出现异常，单体服务可能无法提供服务，可用性存在局限性。为了避免单点故障，衍生出了分布式架构和多服务部署的方式。

随着业务复杂度的提高，一些功能（如用户管理、登录、支付等）开始独立出来，从业务层面拆分出了微服务架构，实现基础能力的高度复用。

随着容器化技术的兴起，云原生架构得到了广泛应用。通过将核心业务迁移到云服务中，避免了自建机房的维护负担。

此外，无服务器架构和跨平台/语言技术也是当前较为前沿的发展方向。


### 常见后端技术框架

以下是一些常见的后端技术框架：

- Python：Flask、Django、Tornado、Fastapi
- Go：Gin、Iris、Kratos

在 Python 领域，Flask 是一个轻量级且易用的框架，适合作为入门框架。但是，要深入学习和进阶，需要掌握一些基础知识，如蓝图、线程本地数据等。

Flask 是一个基于 WSGI 协议构建的 Web 应用框架，它不负责处理请求，而是专注于业务逻辑。在 Flask 中，HTTP 请求的解析通常由专业的服务（如 uWSGI、uWSGI-nginx 等）提供。

Django 是 Python 后端开发的首选框架之一。它提供了大部分开箱即用的功能，并拥有成熟的社区支持。相比于 Flask，Django 对开发过程有更高的约束性，无需开发者自行处理许多细节。

Kratos 是哔哩哔哩（Bilibili）开源的微服务框架，基于 ProtoBuf 支持 HTTP 和 gRPC 服务。尽管 Kratos 在性能和功能方面并不突出，但其对领域驱动设计（DDD）的实践方式和依赖注入的设计方式引人注目。然而，Kratos 可能并非最优的技术框架选择，仅具有学习的意义。


### 技术框架选择与评估

如何评估和选择技术框架呢？通常情况下，建议团队使用已有的技术框架，除非在特定领域有深入的专业知识。

引入新的技术框架会带来学习成本，同时可能存在新旧技术框架之间的兼容性问题。

如果确实需要重新选择技术框架，应优先考虑从业务角度出发进行评估和选择。

对于重点发布的项目，推荐使用成熟的技术框架，如Java Spring全家桶，在国内具有广泛的应用和稳定性。

对于高性能云端项目，可以考虑使用Go语言，它在性能和内存占用方面具有优势。

对于生命周期较短的临时需求，可以根据团队的技术栈选择灵活的技术框架。

特别是对于具有成熟脚手架的团队来说，可以按照团队的技术栈选择合适的框架。


### 架构设计与技术框架结合
技术框架本身不能阻止产生糟糕的代码或避免糟糕的架构设计，这与开发人员的个人习惯和代码水平直接相关。

然而，一个建议是多阅读优秀的代码，了解设计模式在代码中的应用场景，这将对提升自身有很大帮助。

以依赖注入为例，通过依赖注入的设计方式，可以使代码更加模块化、纯粹，避免直接依赖非自身模块。

然而，依赖注入会在类外部引入许多初始化的逻辑，需要权衡设计的复杂性和代码的可维护性。

```python
class Repo:
    def get():
        pass

class Service:
    def get():
        repo = Repo()
        return repo.get()

class Interface:
    def get():
        service = Service()
        return service.get()
```

```python
class Repo:
    def get():
        pass

class Service:
    def __init__(self, repo: Repo):
        self.repo = repo

    def get():
        return self.repo.get()

class Interface:
    def __init__(self, service: Service):
        self.service = service

    def get():
        return self.service.get()
```



### 框架实践
我在这里介绍一个个人开源项目，名为 Pywss。

Pywss（发音 /piːwaɪz/，类似 p~whys）是一个轻量级的 Python Web 框架，它基于 Python3.6+ 特性构建。

与 Flask、Django 等主流框架不同的是，Pywss 的底层并没有实现 WSGI 接口协议。 其编程风格也更类似于 Gin、Iris 等框架，因此对于熟悉这些框架的开发者来说，Pywss 是一个非常值得探索的项目。

其关键特性有：

- 简单：拒绝海量参数，减少心智负担。了解上下文 pywss.Context 即刻启程。
- 快速：纯手撸 socket，拒绝中间商赚取性能差价。(实在有性能追求的同学，不妨再探索下其他语言~Go~)
- 优雅：ctx.next 真的太优雅了。如果你也和我一样喜欢，那我觉得这件事情，泰裤辣！！
- 标准化：集成了部分 OpenAPI（Swagger）能力，方便开发者快速生成 API 文档并进行调试。
- 支持WebSocket：开箱即用的 WebSocket 能力。
- 接口测试：开箱即用的 API 测试模块，不启动服务也能测试接口功能辣！

在线文档 https://czasg.github.io/pywss/




<br/>

:::info 👇👇👇
**本文作者:** Czasg
**版权声明:** 转载请注明出处哦~👮‍
:::
