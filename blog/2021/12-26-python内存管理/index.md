---
title: python内存管理
authors: [czasg]
tags: [python]
---

python 是一门高级语言，它内置了内存管理机制，所以开发过程中，不需要像 C/C++ 那样需要手动申请并回收内存。  

python 的内存管理器，是用来直接管理各种诸如：内存分配、共享内存、垃圾回收等方面的操作。

<!--truncate-->

## 垃圾回收
python 的垃圾回收主要有三种机制：**引用计数**、**标记清除**、**分代回收**   

#### 引用计数
首先是 引用计数，这是最简单的一种回收机制：  
为每一个对象维护一个引用计数，有变量或者容器结构引用时，该对象的引用计数加一，反之减一。当对象的引用计数值为 0 时，则可以进行回收。


#### 标记清除
标记清除算法分为标记阶段和清除阶段：  
标记阶段：从根对象开始遍历，将可以访问到的对象标记为可达对象  
清除阶段：将不可达对象清除

#### 分代回收

分代回收基于一个统计理论，即存活越久的对象，被清除的可能性就越小。所以为了提高性能，引入了分代回收算法。   
将对象分为三代：0、1、2代，活过一次 gc，则分配到下一代。

默认阈值为：700、10、10  
700：表示新创建对象减去从新对象中回收的对象的值，大于 700 则进行一次 0 代回收。  
10：10 次 0 代回收触发一次 1 代回收。  
10：10 次 1 代回收触发一次 2 代回收。



<br/>

:::info 👇👇👇
**本文作者:** Czasg
**版权声明:** 转载请注明出处哦~👮‍
:::