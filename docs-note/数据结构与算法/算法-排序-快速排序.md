# 快速排序

快速排序的算法原理（降序）：每次获取数组中的基准数据，并将其正确排列放置。由于基准数据已经正确排列，不需要额外处理，此时以基准数据为边界切片，递归执行左右两个数据即可。

快速排序的算法步骤（降序）：  
1、在数据集中定义一个基准数据 x，最左侧数据 left，最右侧数据 right，然后开始循环执行步骤 2、3。  
2、从 right 位置开始往左遍历，直到获取第一个比基准数据小的数据，若没有则退出循环，若有则将此值赋值给 left，此时 left + 1。  
3、从 left 位置开始往右遍历，直到获取第一个比基准数据大的数据，若没有则退出循环，若有将此值赋值给 right， 此时 right - 1。
4、此时基准数据已经找到了位置，不需要再动它了。以基准数据为边界，切割左右两个数组切片，继续执行步骤 1。 

```go title="https://github.com/czasg/strualgo/blob/main/algo/sort/quick.go"
package sort

import (
	"github.com/czasg/strualgo/basis"
)

func QuickSortASC[Number basis.Number](nums []Number) []Number {
	newNums := make([]Number, len(nums))
	for index, num := range nums {
		newNums[index] = num
	}
	var quickSortASC func(nums []Number)
	quickSortASC = func(nums []Number) {
		if len(nums) < 2 {
			return
		}
		left := 0
		right := len(nums) - 1
		x := nums[left]
		for {
			for left < right && nums[right] >= x {
				right--
			}
			if left >= right {
				break
			}
			nums[left] = nums[right]
			left++
			for left < right && nums[left] <= x {
				left++
			}
			if left >= right {
				break
			}
			nums[right] = nums[left]
			right--
		}
		nums[left] = x
		quickSortASC(nums[:left])
		quickSortASC(nums[right+1:])
	}
	quickSortASC(newNums)
	return newNums
}
```



