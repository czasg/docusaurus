---
title: Python 题库
sidebar_label: Python 题库
slug: python-question-bank
description: PY大法好😍
---

### 介绍GIL全局解释器锁
GIL（Global Interpreter Lock）全称**全局解释器锁**。

它是一种机制，用于确保同一时间只有一个线程可以执行Python字节码，从而保证了线程安全性。

在Python解释器中，GIL被设计为一个互斥锁，它控制了对共享内存的访问，以确保线程安全。  
虽然GIL确保了线程安全性，但它也限制了Python，导致其无法充分利用多核CPU的优势。

如果需要充分利用多核能力，可以使用多进程。

<br/>

---

### 线程、进程、协程之间的区别
Python中的线程、进程和协程都是用于实现多任务的机制，但是它们的实现方式、使用场景和优缺点都有所不同。

#### 线程
线程是操作系统最小的执行单元，它可以共享当前进程的内存和资源。  
但由于Python中的全局解释器锁（GIL）的存在，多线程并不能真正利用多核CPU的优势。

#### 进程
进程是操作系统中独立的执行单元，每个进程都有自己的地址空间和系统资源。

进程的优点是可以真正地利用多核CPU，因为每个进程都可以运行在不同的CPU核心上。

但相比于线程，创建一个进程负担较大，进程之间通信也更加耗时和复杂。

#### 协程
协程是一种轻量级的线程，它在单个线程中实现了多个子程序之间的切换，从而实现了并发执行。

协程的优点是可以在单个线程中实现并发执行，且协程之间的切换是由程序自己控制的。  
因此不存在多线程场景下的调度开销，比线程和进程更加轻量级和高效。

但是，由于协程是在单个线程中运行的，因此也无法利用多核CPU的优势，适用于I/O密集型任务，而不是CPU密集型任务。

<br/>

---

### 常用的魔术方法
- `__iter__`：可迭代对象
- `__getattr__`/`__setattr__`：操作对象属性
- `__getitem__`：下标操作，如 `object[0]`
- `__slots__`：

:::info __slots__
在 Python 中，每个对象都包含了一些属性和方法，它们在类中定义的。

默认情况下，Python 会使用一个字典来保存这些属性和方法。
这样的好处是，可以动态地向对象中添加新的属性和方法。
但是，这样也带来了一些性能上的问题，因为字典查找操作比直接访问实例变量要慢。
此外，字典还会占用额外的内存空间，这对于某些应用程序来说可能是一个问题。

为了解决这些问题，Python 提供了 __slots__ 方法。__slots__ 是一个特殊的类变量，
它指定了一个类实例中可以存在的属性的名称列表。如果一个类定义了 __slots__，
那么这个类的实例将不再使用字典来存储实例变量和方法，而是使用一个固定大小的数组来保存实例变量，
从而提高了访问实例变量的速度，并且减少了内存的使用。
:::

<br/>

---

## 迭代器与生成器之间的区别
迭代器是一个对象，它实现了迭代器协议，包括__iter__()和__next__()方法。  
__iter__()方法返回迭代器对象本身，并且__next__()方法返回序列中的下一个元素。  
当没有元素可供迭代时，__next__()方法会引发StopIteration异常。

生成器是一种特殊的迭代器，它是使用yield语句定义的函数。  
生成器函数执行到yield语句时，会返回一个值并暂停执行，直到下一次调用生成器时继续执行。  
生成器函数可以保存它们的状态，因此可以在每次调用时生成一个新值。

<br/>

---

## 装饰器原理——闭包

## 函数参数
- 位置参数
- 默认参数
- 可变参数
- 关键字参数
- 命名关键字参数

## 字典底层原理

## 内存管理机制

