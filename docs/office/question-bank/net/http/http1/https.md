---
title: HTTPS
---

### 什么是HTTPS

HTTPS是基于HTTP实现安全通信协议。

整个通信过程由四次握手完成。在这个过程中，它涉及到需要三方权威机构的证书验证、
公钥私钥加解密等，因此可以一定程度上确保我们数据传输过程中的安全性。

### 请介绍HTTPS四次握手
- 第一次握手
    - 客户端发送ClientHello消息，并附带TLS版本号、客户端生成的随机数
- 第二次握手
    - 服务端接收到ClientHello消息，回复ServerHello消息，并附带服务端生成的随机数、证书、公钥等
- 第三次握手
    - 客户端接收到ServerHello消息，会先验证证书合法性
    - 然后随机生成一段对称密钥，基于前两次握手获取到的客户端和服务端的随机数，再结合公钥进行加密，生成密钥，并将密钥发送至服务端
- 第四次握手
    - 服务端基于私钥解密，并结合摘要验证消息合法性，获取客户端生成对称密钥，后续使用该密钥进行加密与解密。

### HTTPS一定安全吗
并不一定，有两种情况下是非安全的：
- 中间人服务器
- 私钥被偷

### 如何抓包HTTPS数据
通过中间人服务器的方式，伪造证书，并让客户端信任

### HTTPS加密算法
HTTPS常用加密算法有两种，分别式RSA和ECDHE算法

RSA是传统的对称加密算法，当私钥泄露后，服务请求将不可靠。

ECDHE则在RSA的基础之上，随机生成新的公钥密钥，双方交换，从而确保即使黑客永远无法获取私钥。

### https安全问题
即使用户有证书，如何通过时间来进行攻击

### 介绍下公钥密钥原理


